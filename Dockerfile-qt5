FROM ubuntu:xenial

RUN echo qt5

RUN apt update && apt install -y libopencv-dev

COPY install-opencv.sh /install-opencv.sh

RUN apt install -y wget unzip
RUN apt install -y libqt5extserialport-dev libqt5gstreamer-dev libqt5opengl5-dev libqt5opengl5-gles-dev libqt5scintilla2-dev libqt5sensors5-dev libqt5serialport5-dev libqt5svg5-dev libqt5waylandclient5-dev libqt5webkit5-dev libqt5websockets5-dev libqt5x11extras5-dev libqt5xdg-dev libqt5xmlpatterns5-dev libqt5xmlpatterns5-private-dev

RUN chmod +x /install-opencv.sh && /install-opencv.sh

WORKDIR /app

RUN g++ skin_ycbcr.c -o app5 -I/usr/local/include/opencv -I/usr/local/include /usr/local/lib/libopencv_contrib.a /usr/local/lib/libopencv_stitching.a /usr/local/lib/libopencv_nonfree.a /usr/local/lib/libopencv_superres.a /usr/local/lib/libopencv_ocl.a /usr/local/lib/libopencv_ts.a /usr/local/lib/libopencv_videostab.a /usr/local/lib/libopencv_gpu.a /usr/local/lib/libopencv_photo.a /usr/local/lib/libopencv_objdetect.a /usr/local/lib/libopencv_legacy.a /usr/local/lib/libopencv_video.a /usr/local/lib/libopencv_ml.a /usr/local/lib/libopencv_calib3d.a /usr/local/lib/libopencv_features2d.a /usr/local/lib/libopencv_highgui.a /usr/local/lib/libopencv_imgproc.a /usr/local/lib/libopencv_flann.a /usr/local/lib/libopencv_core.a /usr/lib/x86_64-linux-gnu/libQtCore.so /usr/lib/x86_64-linux-gnu/libQtTest.so /usr/lib/x86_64-linux-gnu/libQtGui.so /usr/lib/x86_64-linux-gnu/libQtOpenGL.so -lswscale-ffmpeg -lavutil-ffmpeg -lavformat-ffmpeg -lavcodec-ffmpeg -ldc1394 /usr/lib/x86_64-linux-gnu/libIlmThread.so /usr/lib/x86_64-linux-gnu/libHalf.so /usr/lib/x86_64-linux-gnu/libIex.so /usr/lib/x86_64-linux-gnu/libIlmImf.so /usr/lib/x86_64-linux-gnu/libImath.so /usr/lib/x86_64-linux-gnu/libjasper.so /usr/lib/x86_64-linux-gnu/libtiff.so /usr/lib/x86_64-linux-gnu/libpng.so /usr/lib/x86_64-linux-gnu/libjpeg.so /usr/lib/x86_64-linux-gnu/libGL.so /usr/lib/x86_64-linux-gnu/libGLU.so -lrt -lpthread -lm -ldl -lstdc++ /usr/lib/x86_64-linux-gnu/libz.so
